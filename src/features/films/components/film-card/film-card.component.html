<mat-card class="film-card">
  <mat-card-header>
    <mat-card-title>{{ film.title }}</mat-card-title>
    <mat-card-subtitle>Episode {{ film.episode_id }}</mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <div class="film-details">
      <div class="detail-row">
        <span class="detail-label">Release Date:</span>
        <span class="detail-value">{{ film.release_date }}</span>
      </div>
      
      <div class="detail-row">
        <span class="detail-label">Director:</span>
        <span class="detail-value">{{ film.director }}</span>
      </div>
      
      <div class="detail-row">
        <span class="detail-label">Producer:</span>
        <span class="detail-value">{{ film.producer }}</span>
      </div>
    </div>

    <div class="opening-crawl">
      <h3 class="crawl-title">Opening Crawl</h3>
      <p class="crawl-text" [class.expanded]="crawlExpanded">
        {{ crawlExpanded ? film.opening_crawl : truncatedCrawl }}
      </p>
      <button 
        mat-button 
        color="primary" 
        (click)="toggleCrawl()"
        *ngIf="film.opening_crawl.length > 150"
        aria-label="Toggle opening crawl text"
      >
        {{ crawlExpanded ? 'Show Less' : 'Show More' }}
      </button>
    </div>

    <mat-accordion class="drill-down-sections">
      <app-characters-list
        [characterUrls]="film.characters"
      ></app-characters-list>

      <app-starships-list
        [starshipUrls]="film.starships"
      ></app-starships-list>

      <app-vehicles-list
        [vehicleUrls]="film.vehicles"
      ></app-vehicles-list>

      <app-species-list
        [speciesUrls]="film.species"
      ></app-species-list>
    </mat-accordion>
  </mat-card-content>
</mat-card>
